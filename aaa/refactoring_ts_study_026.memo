重複は「行」ではなく「知識」の同一性で判断し、一緒に変更すべきコードを共通化する。動作を固定し、差分確認と小さな抽出・置換を繰り返して統合する。