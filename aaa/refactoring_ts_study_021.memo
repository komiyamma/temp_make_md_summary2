長い関数を目的ごとに切り分け、可読性と保守性を高める。VS CodeのExtract function機能を使い、検証・抽出・再検証のサイクルで安全に責務分離を進める。