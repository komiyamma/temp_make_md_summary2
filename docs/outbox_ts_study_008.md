# ç¬¬8ç« ï¼šWindowsï¼‹VS Codeã§é–‹ç™ºæº–å‚™ï¼ˆTypeScriptæœ€å°æ§‹æˆï¼‰ğŸªŸğŸ’»âœ¨

## ã“ã®ç« ã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ ğŸ¯

* ã€Œå®Ÿè¡Œ â–¶ï¸ / å‹ãƒã‚§ãƒƒã‚¯ âœ… / ãƒ†ã‚¹ãƒˆ ğŸ§ª / ãƒ“ãƒ«ãƒ‰ ğŸ—ï¸ã€ãŒãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ã§å›ã‚‹åœŸå°ã‚’ä½œã‚‹
* `src / tests / scripts` ã®â€œè¿·å­ã«ãªã‚Šã«ãã„â€ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã‚’å›ºå®šã™ã‚‹ ğŸ“âœ¨
* æœªæ¥ã®Outboxå®Ÿè£…ã«å‚™ãˆã¦ã€æœ€å°ã®TypeScriptè¨­å®šï¼ˆNodeå‘ã‘ï¼‰ã‚’å…¥ã‚Œã‚‹ ğŸ§©
* AIï¼ˆGitHub Copilot / OpenAI Codexï¼‰ã§é››å½¢ã‚’çˆ†é€Ÿç”Ÿæˆã™ã‚‹ã‚³ãƒ„ã‚’è¦šãˆã‚‹ ğŸ¤–ğŸ’¨

---

## 0) ã„ã¾ã®â€œåŸºæº–ãƒãƒ¼ã‚¸ãƒ§ãƒ³â€ã®ç›®å®‰ ğŸ§­âœ¨

* Node.jsï¼šç¾æ™‚ç‚¹ã®Active LTSã¯ v24 ç³»ï¼ˆCurrent ã¯ v25 ç³»ï¼‰ğŸ“Œ ([Node.js][1])
* TypeScriptï¼š5.9 ç³»ãŒå®‰å®šç‰ˆã¨ã—ã¦ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚ˆ ğŸ“Œ ([TypeScript][2])
* VS Codeï¼šç›´è¿‘ã®å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹ã¯ 1.108 ç³»ï¼ˆ2026-01-08 ãƒªãƒªãƒ¼ã‚¹ï¼‰ğŸ“Œ ([Visual Studio Code][3])

> ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ•°å­—ã¯â€œçµ¶å¯¾æš—è¨˜â€ã˜ã‚ƒãªãã¦OKã ã‚ˆğŸ˜Š
> ã€ŒLTSã‚’ä½¿ã†ã€ã€Œè¨­å®šã‚’å›ºå®šã™ã‚‹ï¼ˆæµ®ã‹ã›ãªã„ï¼‰ã€ã®ã»ã†ãŒ100å€å¤§äº‹ï¼ğŸ’ªâœ¨

---

## 1) Node.js ã‚’å…¥ã‚Œã¦ã€å‹•ä½œç¢ºèªã™ã‚‹ ğŸ§©âš™ï¸

Node.js ã¯ **LTS** ã‚’å…¥ã‚Œã‚‹ã®ãŒå®‰å¿ƒï¼ˆé•·ãã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ï¼‰ã ã‚ˆğŸ«¶ ([Node.js][1])

### âœ… å‹•ä½œç¢ºèªï¼ˆPowerShellï¼‰

```txt
node -v
npm -v
```

---

## 2) pnpm ã‚’ â€œCorepackâ€ ã§æœ‰åŠ¹åŒ–ã™ã‚‹ ğŸ§ºâœ¨

`pnpm` ã¯é€Ÿãã¦è»½ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã ã‚ˆğŸš€ï¼ˆã“ã®æ•™æã§ã¯pnpmã§çµ±ä¸€ã™ã‚‹ã­ï¼‰

Node ã«ã¯ `corepack` ãŒåŒæ¢±ã•ã‚Œã‚‹æœŸé–“ãŒã‚ã‚Šã€**corepack enable** ã§ pnpm ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã§ãã‚‹ã‚ˆğŸ§¡ ([GitHub][4])

### âœ… æœ‰åŠ¹åŒ–ï¼ˆPowerShellï¼‰

```txt
corepack enable
```

### âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ã† pnpm ã®â€œä¸–ä»£â€ã‚’å›ºå®šï¼ˆãŠã™ã™ã‚ï¼‰ğŸ“Œ

```txt
corepack use pnpm@latest-10
```

> å›ºå®šã™ã‚‹ç†ç”±ï¼šãƒãƒ¼ãƒ ã‚„æœªæ¥ã®è‡ªåˆ†ã®PCã§ã‚‚ã€æŒ™å‹•ãŒã‚ºãƒ¬ã«ãã„ã‹ã‚‰ã ã‚ˆğŸ™‚â€â†•ï¸âœ¨ ([pnpm.io][5])

---

## 3) ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ï¼ˆæœ€å°æ§‹æˆï¼‰ğŸ“¦ğŸ§ªğŸ“

ä»Šå›ã¯å­¦ç¿’ç”¨ã«ã€ã¾ãš **1ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ** ã§ã‚·ãƒ³ãƒ—ãƒ«ã«ã„ãã‚ˆğŸ€

### âœ… ä½œæˆï¼ˆPowerShellï¼‰

```txt
mkdir outbox-lab
cd outbox-lab
pnpm init
```

---

## 4) å¿…è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¥ã‚Œã‚‹ï¼ˆTypeScript + å®Ÿè¡Œ + ãƒ†ã‚¹ãƒˆï¼‰ğŸ“¦âœ¨

* TypeScriptï¼šå‹ãƒã‚§ãƒƒã‚¯ï¼†ãƒ“ãƒ«ãƒ‰ ğŸ§ 
* tsxï¼šTSã‚’ã‚µã‚¯ãƒƒã¨å®Ÿè¡Œï¼ˆãŸã ã— **å‹ãƒã‚§ãƒƒã‚¯ã¯ã—ãªã„**ï¼‰âš¡
* Vitestï¼šãƒ†ã‚¹ãƒˆ ğŸ§ª
* @types/nodeï¼šNodeã®å‹ ğŸ§©

`tsx` ã¯ã€Œãã®ã¾ã¾å®Ÿè¡Œã§ãã‚‹ã€ã‘ã©ã€Œå‹ãƒã‚§ãƒƒã‚¯ã—ãªã„ã€ã®ã§ã€**`tsc` ã§å‹ãƒã‚§ãƒƒã‚¯ã—ã¦ã‹ã‚‰å®Ÿè¡Œ**ãŒå®‰å…¨ã ã‚ˆâœ… ([Node.js][6])

### âœ… ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```txt
pnpm add -D typescript tsx vitest @types/node
```

---

## 5) ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã‚’ä½œã‚‹ï¼ˆè¿·å­é˜²æ­¢ï¼‰ğŸ§­ğŸ“

```txt
mkdir src tests scripts
```

ã“ã®æ•™æã§ã¯ã€ã–ã£ãã‚Šã“ã†å½¹å‰²åˆ†æ‹…ã™ã‚‹ã‚ˆğŸ‘‡

* `src/`ï¼šã‚¢ãƒ—ãƒªæœ¬ä½“ï¼ˆå¾Œã§ Outbox å®Ÿè£…ãŒå…¥ã‚‹ï¼‰ğŸ“¦
* `tests/`ï¼šãƒ†ã‚¹ãƒˆï¼ˆä»•æ§˜ã‚’å®ˆã‚Œã¦ã‚‹ï¼Ÿã‚’ç¢ºèªï¼‰ğŸ§ª
* `scripts/`ï¼šé–‹ç™ºç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆDBåˆæœŸåŒ–ã€Outboxæƒé™¤â€¦ãªã©ï¼‰ğŸ§¹

---

## 6) TypeScript è¨­å®šï¼ˆNodeå‘ã‘æœ€å° tsconfigï¼‰ğŸ§ âš™ï¸

TypeScript 5.9 ã§ã¯ã€Nodeå‘ã‘è¨­å®šã« **`module: "node20"`** ã¿ãŸã„ãªâ€œå®‰å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³â€ãŒç”¨æ„ã•ã‚Œã¦ã‚‹ã‚ˆğŸ“Œï¼ˆæŒ™å‹•ãŒãƒ•ãƒ©ã¤ãã«ãã„ï¼‰ ([TypeScript][2])

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã« `tsconfig.json` ã‚’ä½œã£ã¦ã€ã“ã‚Œã‚’è²¼ã£ã¦ã­ğŸ‘‡

```json
{
  "compilerOptions": {
    "target": "ES2023",
    "module": "node20",
    "moduleResolution": "node20",

    "rootDir": "src",
    "outDir": "dist",

    "strict": true,
    "noUncheckedIndexedAccess": true,

    "esModuleInterop": true,
    "skipLibCheck": true
  },
  "include": ["src", "tests", "scripts"]
}
```

> ã“ã“ã¯ã€Œã¾ãšå‹•ãã€ã€Œå­¦ç¿’ãŒé€²ã‚€ã€ã‚’å„ªå…ˆã—ãŸæœ€å°ã‚»ãƒƒãƒˆã ã‚ˆğŸ™‚âœ¨
> ã‚‚ã£ã¨å …ãã™ã‚‹ã®ã¯ã€OutboxãŒå‹•ãå§‹ã‚ã¦ã‹ã‚‰ã§OKï¼ğŸªœ

---

## 7) package.json ã« â€œã„ã¤ã‚‚ã®æµã‚Œâ€ ã‚’ä½œã‚‹ ğŸ”âœ¨

`package.json` ã® `"scripts"` ã‚’ã€ã“ã†ã™ã‚‹ã‚ˆğŸ‘‡ï¼ˆã‚³ãƒ”ãƒšOKï¼‰

```json
{
  "scripts": {
    "dev": "tsx watch src/main.ts",
    "typecheck": "tsc --noEmit",
    "test": "vitest run",
    "test:watch": "vitest",
    "build": "tsc",
    "start": "node dist/main.js"
  }
}
```

* `dev`ï¼šé–‹ç™ºä¸­ã¯ watch ã§è‡ªå‹•å†å®Ÿè¡Œ â–¶ï¸
* `typecheck`ï¼šå‹ã ã‘ãƒã‚§ãƒƒã‚¯ âœ…ï¼ˆ**tsx ã¯å‹ãƒã‚§ãƒƒã‚¯ã—ãªã„**ã‹ã‚‰å¿…é ˆï¼ï¼‰ ([Node.js][6])
* `test`ï¼šãƒ†ã‚¹ãƒˆä¸€ç™º ğŸ§ª
* `build` â†’ `start`ï¼šé…å¸ƒ/æœ¬ç•ªã£ã½ã„å‹•ã ğŸ—ï¸â–¶ï¸

---

## 8) â€œã¾ãšå‹•ãâ€ main.ts ã‚’ç½®ã â–¶ï¸ğŸ˜Š

`src/main.ts` ã‚’ä½œã£ã¦ã€ã“ã‚Œã‚’è²¼ã£ã¦ã­ğŸ‘‡

```ts
console.log("Outbox Lab: ready! ğŸ“¦âœ¨");
```

### âœ… å®Ÿè¡Œã—ã¦ã¿ã‚ˆã†

```txt
pnpm run dev
```

---

## 9) ãƒ†ã‚¹ãƒˆã®æœ€å°ã‚»ãƒƒãƒˆï¼ˆVitestï¼‰ğŸ§ªâœ¨

Vitest ã¯ 4.0 ãŒå…¬é–‹ã•ã‚Œã¦ã¦ã€4.x ç³»ã§é‹ç”¨ã•ã‚Œã¦ã‚‹ã‚ˆğŸ“Œ ([vitest.dev][7])

`tests/smoke.test.ts` ã‚’ä½œã£ã¦ã€ã“ã‚ŒğŸ‘‡

```ts
import { describe, expect, test } from "vitest";

describe("smoke", () => {
  test("runs", () => {
    expect(1 + 1).toBe(2);
  });
});
```

### âœ… ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```txt
pnpm run test
```

---

## 10) VS Code å´ã®â€œå¿«é©ã‚¹ã‚¤ãƒƒãƒâ€ ğŸ”§ğŸ’–

### âœ… ä¿å­˜ã—ãŸã‚‰è‡ªå‹•ã§ã‚µã‚¯ãƒƒã¨æ•´ãˆã‚‹ï¼ˆãŠã™ã™ã‚ï¼‰âœ¨

`.vscode/settings.json` ã‚’ä½œã£ã¦ğŸ‘‡

```json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.organizeImports": "always"
  }
}
```

> ã¾ã ESLint/Prettierã‚’å…¥ã‚Œã¦ãªãã¦ã‚‚ã€importæ•´ç†ã ã‘ã§ã‚‚æ°—æŒã¡ã„ã„ã‚ˆğŸ¥°âœ¨
> ãƒ«ãƒ¼ãƒ«è¿½åŠ ã¯å¾Œã§OKï¼ï¼ˆè©°ã‚è¾¼ã¿é˜²æ­¢ğŸ§Šï¼‰

---

## 11) â€œAIã§é››å½¢ç”Ÿæˆâ€ ãƒ†ãƒ³ãƒ—ãƒ¬ï¼ˆã‚³ãƒ”ãƒšç”¨ï¼‰ğŸ¤–âœ¨

### 11-1) ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆï¼†scripts ã‚’æ•´ãˆã¦ã‚‚ã‚‰ã† ğŸ“

```txt
TypeScript(Node)ã®å­¦ç¿’ç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚
src/tests/scripts ã®æ§‹æˆã§ã€
- package.json scriptsï¼ˆdev/typecheck/test/build/startï¼‰
- tsconfig.jsonï¼ˆNodeå‘ã‘ã€strictï¼‰
ã‚’â€œåˆå¿ƒè€…ãŒè¿·å­ã«ãªã‚‰ãªã„æœ€å°æ§‹æˆâ€ã§ææ¡ˆã—ã¦ãã ã•ã„ã€‚
èª¬æ˜ã¯çŸ­ãã€ã¾ãšã‚³ãƒ”ãƒšã§ãã‚‹å®Œæˆå½¢ã‚’å‡ºã—ã¦ãã ã•ã„ã€‚
```

### 11-2) â€œæ¬¡ã®ç« ã§ä½œã‚‹é¡Œæâ€ã®é››å½¢ã ã‘å…ˆã«ä½œã‚‰ã›ã‚‹ ğŸ›’ğŸ“¦

```txt
æ¬¡ã®ç« ã§ Outbox ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ã³ã¾ã™ã€‚
æ³¨æ–‡ï¼ˆOrderï¼‰ã‚’é¡Œæã«ã—ãŸã„ã®ã§ã€
src/ ã« Order ã®å‹ã¨ç°¡å˜ãªä½œæˆé–¢æ•°ï¼ˆcreateOrderï¼‰ã ã‘ä½œã£ã¦ãã ã•ã„ã€‚
ã¾ã DBã‚„Outboxã¯å…¥ã‚Œã¾ã›ã‚“ã€‚ãƒ†ã‚¹ãƒˆã‚‚1æœ¬ã ã‘ä»˜ã‘ã¦ãã ã•ã„ã€‚
```

### 11-3) è©°ã‚è¾¼ã¿é˜²æ­¢ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã•ã›ã‚‹ ğŸ§ŠğŸ‘€

```txt
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã€
ã€Œåˆå¿ƒè€…ãŒæ··ä¹±ã—ã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆã€ã‚’3ã¤ã ã‘æŒ‡æ‘˜ã—ã¦ã€
ãã‚Œãã‚Œã«å¯¾ã—ã¦â€œæœ€å°ã®æ”¹å–„â€ã‚’ææ¡ˆã—ã¦ãã ã•ã„ã€‚
å¤§ã’ã•ãªã‚¢ãƒ¼ã‚­å¤‰æ›´ã¯ã—ãªã„ã§ãã ã•ã„ã€‚
```

---

## 12) ã¤ã¾ã¥ããƒã‚¤ãƒ³ãƒˆé›†ï¼ˆå…ˆã«å›é¿âœ¨ï¼‰ğŸ§¯

* **tsx ã¯å‹ãƒã‚§ãƒƒã‚¯ã—ãªã„** â†’ `pnpm run typecheck` ã‚’å¿…ãšä½¿ã†âœ… ([Node.js][6])
* **ãƒ†ã‚¹ãƒˆãŒå‹•ã‹ãªã„** â†’ ã¾ãš `tests/smoke.test.ts` ã®è¶…ãƒŸãƒ‹ã§ç¢ºèªğŸ§ª
* **ãƒ“ãƒ«ãƒ‰æˆæœç‰©ãŒè¦‹ã¤ã‹ã‚‰ãªã„** â†’ `dist/` ã«å‡ºã‚‹ï¼ˆ`outDir`ï¼‰ğŸ“

---

## 13) ã“ã®ç« ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ âœ…ğŸ“¦

* `pnpm run dev` ã§ `Outbox Lab: ready!` ãŒå‡ºã‚‹ â–¶ï¸âœ¨
* `pnpm run typecheck` ãŒæˆåŠŸã™ã‚‹ âœ…
* `pnpm run test` ãŒæˆåŠŸã™ã‚‹ ğŸ§ª
* `pnpm run build` â†’ `pnpm run start` ãŒé€šã‚‹ ğŸ—ï¸â–¶ï¸

---

## æ¬¡ç« ã¸ã®ã¤ãªãï¼ˆè¶…ãƒŸãƒ‹äºˆå‘Šï¼‰ğŸ“¨âœ¨

æ¬¡ã¯ã€ã„ã‚ˆã„ã‚ˆ **Outboxãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆå­¦ç¿’ç”¨ã®æœ€å°ã‚«ãƒ©ãƒ ï¼‰** ã‚’è¨­è¨ˆã—ã¦ã„ãã‚ˆğŸ“¦ğŸ§¾ğŸ’–

[1]: https://nodejs.org/en/about/previous-releases?utm_source=chatgpt.com "Node.js Releases"
[2]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-5-9.html?utm_source=chatgpt.com "Documentation - TypeScript 5.9"
[3]: https://code.visualstudio.com/updates?utm_source=chatgpt.com "December 2025 (version 1.108)"
[4]: https://github.com/nodejs/corepack?utm_source=chatgpt.com "nodejs/corepack: Package manager version ..."
[5]: https://pnpm.io/installation?utm_source=chatgpt.com "Installation | pnpm"
[6]: https://nodejs.org/en/learn/typescript/run?utm_source=chatgpt.com "Running TypeScript with a runner"
[7]: https://vitest.dev/blog/vitest-4?utm_source=chatgpt.com "Vitest 4.0 is out!"
