InMemory RepositoryはMapを利用し、ドメインにインターフェース、インフラに実装を置く。スナップショット保存で参照事故を防ぎ、テストごとの初期化で安全に扱う。
