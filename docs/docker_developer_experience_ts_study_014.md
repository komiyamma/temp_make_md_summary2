# ç¬¬14ç« ï¼šã¾ãšã¯ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã™âœ…ğŸ§ªâœ¨

ç¬¬13ç« ã§ã€Œãƒ†ã‚¹ãƒˆï¼å®‰å¿ƒã—ã¦è§¦ã‚Œã‚‹ãŸã‚ã®ä¿é™ºğŸ›¡ï¸ã€ã£ã¦è©±ã‚’ã—ãŸã‚ˆã­ã€‚
ã“ã®ç« ã¯ã€**ãã®ä¿é™ºã‚’â€œä»Šæ—¥ã‹ã‚‰å®Ÿéš›ã«ä½¿ãˆã‚‹çŠ¶æ…‹â€ã«ã™ã‚‹å›**ã§ã™ğŸ˜ŠğŸ’ª

---

## ã“ã®ç« ã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ğŸ¯

* **Vitest**ã§ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’1æœ¬æ›¸ã„ã¦ã€ã¡ã‚ƒã‚“ã¨å®Ÿè¡Œã§ãã‚‹âœ…
* **ä¿å­˜â†’è‡ªå‹•ã§å†ãƒ†ã‚¹ãƒˆ**ã®â€œæ°—æŒã¡ã„ã„ãƒ«ãƒ¼ãƒ—â€ã‚’ä½œã‚‹ğŸŒ€
* VS Codeã§**ãƒ†ã‚¹ãƒˆã‚’ãƒãƒãƒãƒå®Ÿè¡Œï¼†ãƒ‡ãƒãƒƒã‚°**ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ğŸ–±ï¸ğŸ
* ã€Œã‚ˆãã‚ã‚‹è©°ã¾ã‚Šã€ã‚‚å…ˆå›ã‚Šã—ã¦æ½°ã™ğŸ”§ğŸ˜‡

Vitestã¯Viteãƒ™ãƒ¼ã‚¹ã®é«˜é€Ÿãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã§ã€Jestã£ã½ã„æ›¸ãå¿ƒåœ°ãªã®ãŒäººæ°—ã ã‚ˆğŸš€ ([vitest.dev][1])
ã¾ãŸã€Vitestã¯ **Node 20ä»¥ä¸Š**ï¼† **Vite 6ä»¥ä¸Š**ãŒè¦ä»¶ã ã‚ˆï¼ˆ2026å¹´2æœˆæ™‚ç‚¹ã®å…¬å¼ã‚¬ã‚¤ãƒ‰ï¼‰ã€‚([vitest.dev][2])

---

## 1) ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã£ã¦ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ï¼ŸğŸ§ ğŸ§©

**ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**ã¯ã€ã–ã£ãã‚Šè¨€ã†ã¨ğŸ‘‡

* å°ã•ã‚ã®é–¢æ•°ã‚„ã‚¯ãƒ©ã‚¹ã‚’
* å¤–éƒ¨ï¼ˆDB/HTTP/ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ãªã—ã§
* é€Ÿãã€ä½•å›ã§ã‚‚ã€åŒã˜çµæœã§è©¦ã™

ã ã‹ã‚‰æœ€åˆã¯ã€ã“ã‚“ãª â€œå¤–éƒ¨ãªã—â€ ã‹ã‚‰å§‹ã‚ã‚‹ã®ãŒæœ€é«˜ğŸ™‚âœ¨

* æ–‡å­—åˆ—ã®æ•´å½¢ï¼ˆslugåŒ–ã€ãƒˆãƒªãƒ ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ğŸ”¤
* è¨ˆç®—ï¼ˆåˆè¨ˆã€ç¨è¨ˆç®—ã€å‰²å¼•ï¼‰ğŸ§®
* æ¡ä»¶åˆ†å²ï¼ˆifã®åˆ†ã‹ã‚Œé“ï¼‰ğŸš¦

---

## 2) ã¾ãšã¯Vitestã‚’å…¥ã‚Œã‚‹ğŸ“¦âœ¨

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆnpmï¼‰

```bash
npm install -D vitest
```

Vitestã®æœ€æ–°ã¯ **v4ç³»**ãŒé€²ã‚“ã§ã„ã¦ã€ãŸã¨ãˆã° `@vitest/ui` ã¯ v4.0.18 ãŒé…å¸ƒã•ã‚Œã¦ã‚‹ã‚ˆï¼ˆ2026å¹´1æœˆæ™‚ç‚¹ï¼‰ã€‚([npm][3])

---

## 3) è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’1æšä½œã‚‹ğŸ§¾âœ¨

Viteã‚’ä½¿ã£ã¦ã„ãªã„ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å¯„ã‚Šã®Node/TSã§ã‚‚ã€**`vitest.config.ts`**ã‚’ä½œã‚‹ã®ãŒæ¥½ã¡ã‚“ğŸ˜Š
ï¼ˆ`defineConfig` ã¯ `vitest/config` ã‹ã‚‰èª­ã‚€ã®ãŒåˆ†ã‹ã‚Šã‚„ã™ã„ã‚ˆï¼‰([vitest.dev][4])

## `vitest.config.ts`

```ts
import { defineConfig } from 'vitest/config'

export default defineConfig({
  test: {
    environment: 'node',
    include: ['src/**/*.test.ts'],
  },
})
```

* `environment: 'node'` â†’ ã¾ãšã¯Nodeç”¨ã®ãƒ†ã‚¹ãƒˆã«é›†ä¸­ğŸ§‘â€ğŸ’»
* `include` â†’ ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’å›ºå®šï¼ˆè¿·å­é˜²æ­¢ï¼‰ğŸ§­

---

## 4) â€œäººç”Ÿåˆã®1æœ¬â€ã‚’æ›¸ã„ã¦å‹•ã‹ã™âœ…ğŸ‰

## ä¾‹ï¼šè¶³ã—ç®—é–¢æ•°ï¼ˆ`src/sum.ts`ï¼‰

```ts
export function sum(a: number, b: number) {
  return a + b
}
```

## ãƒ†ã‚¹ãƒˆï¼ˆ`src/sum.test.ts`ï¼‰

ã¾ãšã¯ **ã‚¤ãƒ³ãƒãƒ¼ãƒˆå‹**ã§æ›¸ãã¨ã€å‹ã¾ã‚ã‚Šã§è©°ã¾ã‚Šã«ãã„ã‚ˆğŸ˜Š

```ts
import { describe, it, expect } from 'vitest'
import { sum } from './sum'

describe('sum', () => {
  it('2ã¤ã®æ•°ã‚’è¶³ã›ã‚‹', () => {
    expect(sum(1, 2)).toBe(3)
  })
})
```

---

## 5) ã‚³ãƒãƒ³ãƒ‰ã‚’ç”¨æ„ã—ã¦ã€å›ã—ã‚„ã™ãã™ã‚‹ğŸ§°âœ¨

`package.json` ã« scripts ã‚’è¶³ã™ã‚ˆğŸ‘‡

```json
{
  "scripts": {
    "test": "vitest",
    "test:run": "vitest run",
    "test:ui": "vitest --ui"
  }
}
```

ãƒã‚¤ãƒ³ãƒˆã¯ã“ã“ğŸ‘‡ğŸ˜Š

* `vitest` ã¯ **watchç›¸å½“**ï¼ˆå¯¾è©±çš„ãªã‚‰ä¿å­˜ã§å†å®Ÿè¡Œï¼‰ğŸŒ€
* `vitest run` ã¯ **1å›ã ã‘å®Ÿè¡Œ**ï¼ˆCIå‘ã‘ï¼‰ğŸ

Vitestå…¬å¼CLIã§ã‚‚ã€`vitest watch`ï¼ˆ=`vitest`ï¼‰ã¨ `vitest run` ã®é•ã„ãŒèª¬æ˜ã•ã‚Œã¦ã‚‹ã‚ˆã€‚([vitest.dev][5])

## å®Ÿè¡Œã—ã¦ã¿ã‚ˆã†ğŸš€

```bash
npm test
```

---

## 6) â€œä¿å­˜â†’å³ãƒ†ã‚¹ãƒˆâ€ã‚’æ°—æŒã¡ã‚ˆãã™ã‚‹ğŸŒ€ğŸ’š

watchä¸­ã«ä¾¿åˆ©ãªã®ã¯ã“ã®æ„Ÿè¦šğŸ‘‡

* ã¡ã‚‡ã£ã¨ç›´ã™âœï¸
* ä¿å­˜ğŸ’¾
* ã™ãçµæœãŒè¿”ã£ã¦ãã‚‹âœ…âŒ

ã“ã‚ŒãŒã§ãã‚‹ã¨ã€**ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®æ€–ã•ãŒä¸€æ°—ã«æ¸›ã‚‹**ã‚ˆğŸ˜ŒğŸ›¡ï¸

---

## 7) VS Codeã§ãƒ†ã‚¹ãƒˆã‚’ãƒãƒãƒãƒå®Ÿè¡Œã™ã‚‹ğŸ–±ï¸ğŸ§ª

VS Codeã«ã¯ã€Vitestã‚’Testingãƒ“ãƒ¥ãƒ¼ã§æ‰±ãˆã‚‹æ‹¡å¼µãŒã‚ã‚‹ã‚ˆã€‚
ãŸã¨ãˆã°ã€ŒVitestã€ï¼ˆ`vitest.explorer`ï¼‰ã¯ **Run/Debug/Watch** ã‚’VS Codeå†…ã§ã§ãã‚‹ã£ã¦æ›¸ã„ã¦ã‚ã‚‹ğŸ‘ ([Visual Studio Marketplace][6])

ã‚„ã‚‹ã“ã¨ã¯è¶…ã‚·ãƒ³ãƒ—ãƒ«ğŸ‘‡ğŸ˜Š

1. æ‹¡å¼µæ©Ÿèƒ½ã§ **Vitest** ã‚’æ¤œç´¢ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ğŸ”Œ
2. å·¦ã® ğŸ§ª **Testing** ã‚¢ã‚¤ã‚³ãƒ³ã‚’é–‹ã
3. ãƒ†ã‚¹ãƒˆãŒãƒ„ãƒªãƒ¼è¡¨ç¤ºã•ã‚ŒãŸã‚‰ â–¶ ã§å®Ÿè¡Œï¼

ï¼ˆVS Codeã®Testingæ©Ÿèƒ½è‡ªä½“ã®èª¬æ˜ã‚‚å…¬å¼ã«ã‚ã‚‹ã‚ˆï¼‰([Visual Studio Code][7])

---

## 8) UIã§â€œç·‘/èµ¤â€ã‚’çœºã‚ãŸã„äººã¸ğŸŸ©ğŸŸ¥ğŸ‘€

Vitestã¯ `--ui` ã§UIã‚’é–‹ã‘ã‚‹ã‚ˆâœ¨
UIã‚’ä½¿ã†ã«ã¯ `@vitest/ui` ãŒå¿…è¦ã§ã€è¶³ã‚Šãªã„å ´åˆã¯å®Ÿè¡Œæ™‚ã«å…¥ã‚‹ã“ã¨ãŒã‚ã‚‹ã€ã¨å…¬å¼è¨­å®šã«ã‚‚æ›¸ã‹ã‚Œã¦ã‚‹ã€‚([vitest.dev][8])
npmä¸Šã§ã‚‚ `@vitest/ui` ã¯é…å¸ƒã•ã‚Œã¦ã‚‹ã‚ˆã€‚([npm][3])

```bash
npm run test:ui
```

---

## 9) Dockerå†…ã§watchãŒåŠ¹ã‹ãªã„ã¨ãã®å¯¾å‡¦ğŸ§¯ğŸ³

Windowsï¼‹Dockerï¼ˆãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒã‚¦ãƒ³ãƒˆï¼‰ã ã¨ã€**ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã‚¤ãƒ™ãƒ³ãƒˆãŒæ‹¾ãˆãšwatchãŒæ­¢ã¾ã‚‹**ã“ã¨ãŒã‚ã‚‹ğŸ’¦
ãã†ã„ã†ã¨ãã¯ã€ç›£è¦–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆchokidarï¼‰ã®ä»•çµ„ã¿ã¨ã—ã¦ **ãƒãƒ¼ãƒªãƒ³ã‚°ç›£è¦–**ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã®ãŒå®šç•ªã®é€ƒã’é“ã ã‚ˆğŸ› ï¸

chokidarã®READMEã«ã€`CHOKIDAR_USEPOLLING` ã¨ `CHOKIDAR_INTERVAL` ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹ã£ã¦æ›¸ã„ã¦ã‚ã‚‹ã€‚([GitHub][9])

## `compose.yaml` ã®ä¾‹

```yaml
services:
  api:
    environment:
      - CHOKIDAR_USEPOLLING=true
      - CHOKIDAR_INTERVAL=250
```

* `INTERVAL` ã¯CPUè² è·ã¨ç›¸è«‡ã§èª¿æ•´ğŸ”§ï¼ˆé‡ã‹ã£ãŸã‚‰ 500ã€œ1000ms ã«ä¸Šã’ã‚‹ğŸ™‚ï¼‰

---

## 10) ã‚ˆãã‚ã‚‹è©°ã¾ã‚Šé›†ğŸ˜‡ğŸª“

## è©°ã¾ã‚ŠAï¼š`describe` ã‚„ `it` ãŒèµ¤ç·šã«ãªã‚‹ğŸ”´

åŸå› ï¼š**ã‚°ãƒ­ãƒ¼ãƒãƒ«APIãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡åŠ¹**ã ã‹ã‚‰ã€‚([vitest.dev][10])
è§£æ±ºï¼šã©ã£ã¡ã‹é¸ã¼ã†ğŸ‘‡

âœ…ãŠã™ã™ã‚ï¼ˆæœ€åˆã¯ã“ã‚Œï¼‰ï¼šæ¯å›importã™ã‚‹

* ã•ã£ãã®ä¾‹ã®æ›¸ãæ–¹ã®ã¾ã¾OKğŸ™†â€â™‚ï¸

ğŸ§æ…£ã‚Œã¦ããŸã‚‰ï¼šglobalsã‚’ONã«ã™ã‚‹
`vitest.config.ts`

```ts
import { defineConfig } from 'vitest/config'

export default defineConfig({
  test: {
    globals: true,
    environment: 'node',
  },
})
```

ã•ã‚‰ã«TSãŒå‹ã‚’ç†è§£ã™ã‚‹ãŸã‚ã« `tsconfig.json` ã¸ğŸ‘‡

```json
{
  "compilerOptions": {
    "types": ["vitest/globals", "node"]
  }
}
```

---

## è©°ã¾ã‚ŠBï¼šwatchãŒâ€œ1å›ã ã‘å®Ÿè¡Œâ€ã«ãªã£ã¡ã‚ƒã†ğŸ˜µ

Vitestã¯ **TTYã˜ã‚ƒãªã„ç’°å¢ƒ**ã ã¨ watch ã§ã¯ãªã `run` ç›¸å½“ã«å€’ã‚Œã‚‹ã“ã¨ãŒã‚ã‚‹ã‚ˆï¼ˆCLIã§ã‚‚èª¬æ˜ã‚ã‚Šï¼‰ã€‚([vitest.dev][5])
å¯¾å‡¦ï¼š

* `docker compose exec -it ...` ã¿ãŸã„ã« **å¯¾è©±ãƒ¢ãƒ¼ãƒ‰ã§å…¥ã‚‹**
* VS Codeæ‹¡å¼µã§ watch å®Ÿè¡Œã™ã‚‹

---

## 11) ãƒŸãƒ‹èª²é¡ŒğŸ’âœ¨

## èª²é¡Œ1ï¼šãƒ†ã‚¹ãƒˆã‚’â€œã‚ã–ã¨è½ã¨ã™â€ğŸ˜ˆ

* `expect(sum(1, 2)).toBe(4)` ã«å¤‰ãˆã¦ã¿ã¦ã­
* å¤±æ•—ãƒ­ã‚°ã‚’èª­ã‚“ã§ã€Œä½•ãŒé•ã†ã‹ã€ã‚’è¦‹ã¤ã‘ã‚ˆã†ğŸ”

## èª²é¡Œ2ï¼šå¢ƒç•Œå€¤ã‚’è¶³ã™ğŸ§±

* `sum(0, 0)`
* `sum(-1, 1)`
* `sum(1000000, 1000000)`

---

## 12) AIã§æ™‚çŸ­ã™ã‚‹ã‚³ãƒ„ğŸ¤–âœ¨

ã€Œãƒ†ã‚¹ãƒˆã¯æ›¸ãã®ãŒé¢å€’â€¦ã€ã£ã¦æ°—æŒã¡ã€ã‚ã£ã¡ã‚ƒåˆ†ã‹ã‚‹ğŸ˜‚
ã“ã“ã¯AIãŒå¾—æ„ï¼

## ä½¿ãˆã‚‹ãŠé¡˜ã„ãƒ†ãƒ³ãƒ—ãƒ¬ğŸª„

* ã€Œã“ã®é–¢æ•°ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ã€å¢ƒç•Œå€¤ã¨ç•°å¸¸ç³»ã‚‚å«ã‚ã¦ææ¡ˆã—ã¦ã€
* ã€ŒAAAï¼ˆArrange/Act/Assertï¼‰ã§æ›¸ã„ã¦ã€
* ã€Œãƒ†ã‚¹ãƒˆåã‚’æ—¥æœ¬èªã§èª­ã¿ã‚„ã™ãã—ã¦ã€

ãŸã ã—âš ï¸

* **ãƒ†ã‚¹ãƒˆã®æœŸå¾…å€¤ãŒæ­£ã—ã„ã‹**ï¼ˆç‰¹ã«è¨ˆç®—ãƒ»æ—¥ä»˜ï¼‰ã¯å¿…ãšè‡ªåˆ†ã§ç¢ºèªï¼ğŸ§ 
* â€œå¤–éƒ¨ã«ä¾å­˜ã™ã‚‹ãƒ†ã‚¹ãƒˆâ€ã‚’AIãŒæ··ãœã¦ããŸã‚‰ã€ã„ã£ãŸã‚“ä¿ç•™ğŸ™‚ï¼ˆæ¬¡ç« ä»¥é™ã§æ•´ç†ã™ã‚‹ã‚ˆï¼‰

---

## ã¾ã¨ã‚ğŸğŸ˜„

ã“ã®ç« ã§ä½œã£ãŸã®ã¯ã€é–‹ç™ºã‚’å¼·ãã™ã‚‹æœ€åˆã®æ­¦å™¨ğŸ‘‡

* **Vitestã‚’å…¥ã‚Œã‚‹**([vitest.dev][2])
* **1æœ¬ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦å‹•ã‹ã™**âœ…
* **watchã§ä¿å­˜â†’å³ãƒ†ã‚¹ãƒˆ**ğŸŒ€([vitest.dev][5])
* **VS Codeã§æ¥½ã«å›ã™**ğŸ–±ï¸([Visual Studio Marketplace][6])
* **Dockerã§watchãŒæ­»ã‚“ã ã‚‰ãƒãƒ¼ãƒªãƒ³ã‚°**ğŸ³([GitHub][9])

æ¬¡ã®ç« ï¼ˆç¬¬15ç« ï¼‰ã§ã¯ã€ã€ŒNodeæ¨™æº–ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã€ã¨ã„ã†åˆ¥ãƒ«ãƒ¼ãƒˆã‚‚è¦‹ã¦ã€**â€œã©ã£ã¡ã‚’æ¡ç”¨ã™ã‚‹ï¼Ÿâ€ã®åˆ¤æ–­è»¸**ã‚’ä½œã£ã¦ã„ã“ã†ğŸ˜ŠğŸ§­

[1]: https://vitest.dev/?utm_source=chatgpt.com "Vitest | Next Generation testing framework"
[2]: https://vitest.dev/guide/?utm_source=chatgpt.com "Getting Started | Guide"
[3]: https://www.npmjs.com/package/%40vitest/ui?utm_source=chatgpt.com "vitest/ui"
[4]: https://vitest.dev/config/?utm_source=chatgpt.com "Configuring Vitest"
[5]: https://vitest.dev/guide/cli?utm_source=chatgpt.com "Command Line Interface | Guide"
[6]: https://marketplace.visualstudio.com/items?itemName=vitest.explorer&utm_source=chatgpt.com "Vitest"
[7]: https://code.visualstudio.com/docs/debugtest/testing?utm_source=chatgpt.com "Testing"
[8]: https://vitest.dev/config/ui?utm_source=chatgpt.com "ui | Config"
[9]: https://github.com/paulmillr/chokidar "GitHub - paulmillr/chokidar: Minimal and efficient cross-platform file watching library"
[10]: https://vitest.dev/config/globals?utm_source=chatgpt.com "globals | Config"
