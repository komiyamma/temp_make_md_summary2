# ç¬¬26ç« ï¼šVS Code ã® Dev Containers ã§â€œé–‹ç™ºç’°å¢ƒã”ã¨å›ºå®šâ€ğŸ§°ğŸ³

ã“ã®ç« ã¯ã€ã²ã¨ã“ã¨ã§è¨€ã†ã¨ **ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã®é–‹ç™ºPCã‚’ã€ãƒœã‚¿ãƒ³1ã¤ã§å¬å–šã™ã‚‹ã€** å›ã§ã™ğŸ˜†âœ¨
Nodeã®ç‰ˆãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»æ‹¡å¼µæ©Ÿèƒ½ã¾ã§ã€ãœã‚“ã¶ã€Œã“ã®ãƒªãƒã‚¸ãƒˆãƒªã«ç´ã¥ãã€çŠ¶æ…‹ã«ã§ãã¾ã™ğŸ”’

Dev Containers ã¯ã€ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ=ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã‚’ **â€œã‚³ãƒ³ãƒ†ãƒŠã®ä¸­ã§é–‹ãâ€** é–‹ç™ºã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½œã‚Œã¾ã™ã€‚VS Code ã®æ©Ÿèƒ½ï¼ˆè£œå®Œãƒ»ãƒ‡ãƒãƒƒã‚°ãƒ»ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãªã©ï¼‰ã‚’ã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ç’°å¢ƒã§ãã®ã¾ã¾ä½¿ãˆã‚‹ã®ãŒå¼·ã¿ã§ã™ğŸ§ âš¡ ([Visual Studio Code][1])

---

## ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯âœ¨

* âœ… ã€Œã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã“ã®Nodeã§é–‹ç™ºã™ã‚‹ã€ãŒ **VS Codeã”ã¨å›ºå®š**ã§ãã‚‹ğŸŸ¢
* âœ… æ‹¡å¼µæ©Ÿèƒ½ï¼ˆESLint / Prettier / AIç³»ãªã©ï¼‰ã‚‚ **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç´ã¥ã‘ã¦è‡ªå‹•ã‚»ãƒƒãƒˆ**ã§ãã‚‹ğŸ§©
* âœ… æ–°ã—ã„PCã§ã‚‚ã€Œé–‹ãã ã‘ã§åŒã˜é–‹ç™ºç’°å¢ƒã€ã«ãªã£ã¦ã€äº‹æ•…ãŒæ¸›ã‚‹ğŸ§¯

---

## ãªã‚“ã§å¬‰ã—ã„ã®ï¼Ÿï¼ˆã‚ˆãã‚ã‚‹åœ°ç„ãŒæ¶ˆãˆã‚‹ï¼‰ğŸ’¥â¡ï¸ğŸ«§

* ğŸ˜µã€ŒPCã«å…¥ã£ã¦ã‚‹NodeãŒé•ã†ã€â†’ **é–¢ä¿‚ãªããªã‚‹**
* ğŸ˜µã€Œæ‹¡å¼µæ©Ÿèƒ½ã®å…¥ã‚Œå¿˜ã‚Œã§LintãŒå‹•ã‹ãªã„ã€â†’ **è‡ªå‹•ã§å…¥ã‚‹**
* ğŸ˜µã€Œç’°å¢ƒæ§‹ç¯‰ãƒ¡ãƒ¢ãŒå¤ã„ã€â†’ **è¨­å®šãŒãƒªãƒã‚¸ãƒˆãƒªã«æ®‹ã‚‹**
* ğŸ˜µã€Œæ–°ãƒ¡ãƒ³ãƒãƒ¼ãŒåˆæ—¥ã‹ã‚‰è©°ã¾ã‚‹ã€â†’ **â€œé–‹ãâ€ã ã‘ã§æƒã†**

Dev Containers ã¯ â€œãƒ•ã‚©ãƒ«ãƒ€ã« devcontainer è¨­å®šãŒã‚ã‚‹ãªã‚‰ã€ãã‚Œã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒŠã‚’ç”¨æ„ã™ã‚‹â€ ã¨ã„ã†è€ƒãˆæ–¹ã§ã™ğŸ“¦ ([Visual Studio Code][1])

---

## Dev Containers ã®ã–ã£ãã‚Šä»•çµ„ã¿ğŸ±ğŸ§ 

* ğŸ§‘â€ğŸ’» VS Code ã¯ã„ã¤ã‚‚é€šã‚Šèµ·å‹•
* ğŸ³ ã§ã‚‚ã€**ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œãƒ»ä¾å­˜ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»æ‹¡å¼µæ©Ÿèƒ½ã®å‹•ä½œ**ã¯ã‚³ãƒ³ãƒ†ãƒŠå´
* ğŸ“ ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ•ã‚©ãƒ«ãƒ€ã¯ã€ã‚³ãƒ³ãƒ†ãƒŠã«ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ç·¨é›†ã§ãã‚‹

ã¤ã¾ã‚Š **ã€Œã‚¨ãƒ‡ã‚£ã‚¿ã¯æ™®æ®µé€šã‚Šã€ï¼‹ã€Œä¸­èº«ã¯åˆ¥PCï¼ˆã‚³ãƒ³ãƒ†ãƒŠï¼‰ã€** ã¿ãŸã„ãªæ„Ÿè¦šã§ã™ğŸ˜„ ([Visual Studio Code][1])

---

## æœ€çŸ­5åˆ†ï¼šå‹•ãã¨ã“ã‚ã¾ã§è¡Œã“ã†ğŸš€ï¼ˆã¾ãšã¯â€œæœ€å°â€ã§OKï¼‰

### 1) Dev Containers æ‹¡å¼µã‚’å…¥ã‚Œã‚‹ğŸ§©

ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ã® **Dev Containers**ï¼ˆæ‹¡å¼µï¼‰ã‚’å…¥ã‚Œã¾ã™ã€‚([marketplace.visualstudio.com][2])

---

### 2) `.devcontainer/devcontainer.json` ã‚’ä½œã‚‹ğŸ“âœ¨

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã« `.devcontainer` ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€`devcontainer.json` ã‚’ç½®ãã¾ã™ã€‚

```json
{
  "name": "node-ts-dev",
  "image": "node:24-bookworm-slim",
  "postCreateCommand": "npm ci"
}
```

* `"image"`ï¼šã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®â€œé–‹ç™ºPCâ€ã®åœŸå°ï¼ˆã“ã“ã§Nodeç‰ˆãŒå›ºå®šã•ã‚Œã‚‹ï¼‰ğŸ§±
* `"postCreateCommand"`ï¼šã‚³ãƒ³ãƒ†ãƒŠåˆå›ä½œæˆå¾Œã«èµ°ã‚‹ã‚³ãƒãƒ³ãƒ‰ï¼ˆä¾å­˜ã‚’æƒãˆã‚‹ï¼‰ğŸ“¦

  * Dev Containers ã«ã¯ã€ä½œæˆã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‹•ãã‚³ãƒãƒ³ãƒ‰ç¾¤ï¼ˆ`postCreateCommand` ãªã©ï¼‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ğŸ› ï¸ ([devcontainers.github.io][3])

> ã¡ãªã¿ã« Node ã®ãƒªãƒªãƒ¼ã‚¹çŠ¶æ…‹ã¯å…¬å¼ã§ç¢ºèªã§ãã¾ã™ï¼ˆä¾‹ï¼šv24 Active LTS / v25 Current ãªã©ï¼‰ğŸŸ¢ ([nodejs.org][4])
> ï¼ˆã“ã®ç« ã§ã¯ â€œã©ã†å›ºå®šã™ã‚‹ã‹â€ ãŒä¸»å½¹ãªã®ã§ã€ã¾ãšã¯ã“ã“ã ã‘ã§OKğŸ‘Œï¼‰

---

### 3) ã€Œã‚³ãƒ³ãƒ†ãƒŠã§é–‹ãã€â–¶ï¸ğŸ³

VS Code ã®ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆCtrl+Shift+Pï¼‰ã‹ã‚‰ã€ã ã„ãŸã„æ¬¡ã®ç³»çµ±ã‚’é¸ã³ã¾ã™ï¼š

* ğŸ³ **Dev Containers: Reopen in Container**ï¼ˆã¾ãŸã¯è¿‘ã„åå‰ï¼‰

ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ†ãƒŠãŒä½œã‚‰ã‚Œã¦ â€œãã®ä¸­â€ ã«å…¥ã‚Šã¾ã™ğŸ âœ¨ ([Visual Studio Code][1])

---

### 4) å›ºå®šã§ãã¦ã‚‹ã‹ãƒã‚§ãƒƒã‚¯âœ…ğŸ”

ã‚³ãƒ³ãƒ†ãƒŠå†…ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ï¼š

```bash
node -v
npm -v
```

ã“ã‚Œã§ **ã€ŒPCã«ä½•ãŒå…¥ã£ã¦ã‚‹ã‹ã€ã˜ã‚ƒãªãã¦ã€ŒdevcontainerãŒæ±ºã‚ãŸç’°å¢ƒã€** ãŒä½¿ã‚ã‚Œã¦ã‚‹ã®ã‚’ç¢ºèªã§ãã¾ã™ğŸ˜„

---

## ä¾¿åˆ©ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šã“ã“ã‹ã‚‰â€œå¿«é©â€ã«ã™ã‚‹ğŸ˜†ğŸ› ï¸

æœ€å°ã§å‹•ã„ãŸã‚‰ã€æ¬¡ã¯å¿«é©åŒ–ã§ã™âœ¨
Dev Containers ã®è¨­å®šã¯å…¬å¼ã® devcontainer.json ä»•æ§˜ã§æ•´ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚([devcontainers.github.io][3])

---

### â‘  ãƒãƒ¼ãƒˆè»¢é€ã‚’è‡ªå‹•åŒ–ğŸ“¡ï¼ˆ3000/5173/â€¦ï¼‰

ãƒ•ãƒ­ãƒ³ãƒˆã‚„APIã‚’èµ·å‹•ã™ã‚‹ã¨ãã€æ¯å›ãƒãƒ¼ãƒˆè¨­å®šã§è¿·ã„ãŒã¡ãªã®ã§å›ºå®šã—ã¾ã™ğŸ”’

```json
{
  "name": "node-ts-dev",
  "image": "node:24-bookworm-slim",
  "forwardPorts": [3000, 5173],
  "postCreateCommand": "npm ci"
}
```

`forwardPorts` ã¯ â€œå¸¸ã«è»¢é€ã™ã‚‹ãƒãƒ¼ãƒˆâ€ ã‚’æŒ‡å®šã§ãã¾ã™ğŸ“Œ ([devcontainers.github.io][3])

---

### â‘¡ æ‹¡å¼µæ©Ÿèƒ½ã‚‚ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç´ã¥ã‘ã¦è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ğŸ§©âœ¨

ESLint / Prettier / AIç³»ï¼ˆCopilot ãªã©ï¼‰ã‚’ã€Œæ¯å›å…¥ã‚Œã‚‹ã€ã®ã¯ãƒ€ãƒ«ã„ã®ã§ã€ã“ã“ã«ç½®ãã¾ã™ğŸ’ª

```json
{
  "name": "node-ts-dev",
  "image": "node:24-bookworm-slim",
  "postCreateCommand": "npm ci",
  "customizations": {
    "vscode": {
      "extensions": [
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode",
        "github.copilot"
      ]
    }
  }
}
```

`customizations.vscode.extensions` ã®è€ƒãˆæ–¹ã¯ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£/è§£èª¬ã§ã‚‚ã‚ˆãæ•´ç†ã•ã‚Œã¦ã„ã¾ã™ğŸ“š ([Zenn][5])
ï¼ˆã€Œæ‹¡å¼µæ©Ÿèƒ½IDã‚’ä¸¦ã¹ã‚‹ã€ã ã‘ã§OKğŸ‘ï¼‰

---

### â‘¢ node_modules ã‚’â€œãƒ›ã‚¹ãƒˆã«ä½œã‚‰ãªã„â€ä½œæˆ¦ğŸ’£â¡ï¸ğŸ§¼

Dev Containers ã¯åŸºæœ¬ã€Œä½œæ¥­ãƒ•ã‚©ãƒ«ãƒ€ã‚’ãƒã‚¦ãƒ³ãƒˆã€ã™ã‚‹ã®ã§ã€ä½•ã‚‚è€ƒãˆãš `npm i` ã™ã‚‹ã¨ **ãƒ›ã‚¹ãƒˆå´ã« `node_modules` ãŒç”Ÿã¾ã‚Œã‚‹** ã“ã¨ãŒã‚ã‚Šã¾ã™ğŸ˜‡
å«Œãªå ´åˆã¯ã€`node_modules` ã‚’ **named volume** ã«é€ƒãŒã™ã®ãŒå®šç•ªã§ã™ğŸƒâ€â™‚ï¸ğŸ’¨

```json
{
  "name": "node-ts-dev",
  "image": "node:24-bookworm-slim",
  "postCreateCommand": "npm ci",
  "mounts": [
    "source=node_modules,target=${containerWorkspaceFolder}/node_modules,type=volume"
  ]
}
```

`mounts` ã¯ Docker ã® `--mount` ã¨åŒã˜å½¢å¼ã§æ›¸ã‘ã¾ã™ğŸ§· ([devcontainers.github.io][3])

---

## Windowsã§è©°ã¾ã‚Šã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼ˆã“ã“ã ã‘å…ˆã«æ½°ã™ï¼‰ğŸªŸğŸ§¯

### âœ… Docker Desktop Ã— WSL2 ã®åŸºæœ¬ã ã‘

Docker Desktop ã¯ WSL2 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ä½¿ã†ã®ãŒä»Šã®ä¸»æµã§ã€WSLã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã„ã¨ä¸èª¿ãŒå‡ºã‚„ã™ã„ã§ã™âš ï¸
Docker å´ã‚‚ã€ŒWSLã¯æ–°ã—ã‚æ¨å¥¨ã€ã€ŒWSL Integration ã®è¨­å®šã€ãªã©ã‚’æ¡ˆå†…ã—ã¦ã„ã¾ã™ã€‚([Docker Documentation][6])

ãƒã‚§ãƒƒã‚¯ä¾‹ï¼š

```bash
wsl.exe -l -v
```

---

## â€œå£Šã‚ŒãŸã¨ãâ€ã®å¾©æ—§ã‚³ãƒãƒ³ãƒ‰ğŸ§¯ğŸ”

* ğŸ” è¨­å®šå¤‰ãˆãŸã®ã«åæ˜ ã•ã‚Œãªã„ â†’ **Rebuild**

  * **Dev Containers: Rebuild Container**ï¼ˆç³»ã®ã‚³ãƒãƒ³ãƒ‰ï¼‰
* ğŸ§¹ ãªã‚“ã‹å¤‰â€¦å…¨éƒ¨ã‚„ã‚Šç›´ã—ãŸã„ â†’ **Remove / Reopen**

  * **Dev Containers: Reopen in Container** ã§å†ä½œæˆ

ï¼ˆdevcontainer ã®å¤‰æ›´ã¯ã€Œã‚³ãƒ³ãƒ†ãƒŠä½œã‚Šç›´ã—ã€ãŒå¿…è¦ãªã“ã¨ãŒå¤šã„ã§ã™ğŸ’¡ï¼‰

---

## ç« æœ«ãƒŸãƒ‹ãƒãƒ£ãƒ¬ãƒ³ã‚¸ğŸ®âœ¨ï¼ˆã‚„ã‚‹ã¨ä¸€æ°—ã«å®šç€ï¼‰

1. âœ… `forwardPorts` ã‚’å…¥ã‚Œã¦ã€é–‹ç™ºã‚µãƒ¼ãƒã‚’èµ·å‹•â†’ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèªğŸ“¡
2. âœ… `customizations.vscode.extensions` ã« ESLint/Prettier/AIç³»ã‚’å…¥ã‚Œã¦ã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã§å‹•ãã®ã‚’ç¢ºèªğŸ§©
3. âœ… `mounts` ã§ `node_modules` ã‚’ volume åŒ–ã—ã¦ã€ãƒ›ã‚¹ãƒˆã«å¢—ãˆãªã„ã‹ç¢ºèªğŸ§¼

---

## ã¾ã¨ã‚ğŸâœ¨

Dev Containers ã‚’ä½¿ã†ã¨ã€**Node/ãƒ„ãƒ¼ãƒ«/æ‹¡å¼µæ©Ÿèƒ½ã¾ã§å«ã‚ãŸã€Œé–‹ç™ºç’°å¢ƒãã®ã‚‚ã®ã€ã‚’ãƒªãƒã‚¸ãƒˆãƒªã«å›ºå®š**ã§ãã¾ã™ğŸ§°ğŸ³
ãã—ã¦ã“ã‚Œã¯ã€Œå€‹äººé–‹ç™ºã§ã‚‚ãƒãƒ¼ãƒ ã§ã‚‚åŠ¹ãã€ã‚„ã¤ã§ã™ğŸ’ªğŸ”¥ ([marketplace.visualstudio.com][2])

æ¬¡ã®ç¬¬27ç« ã§ `.devcontainer/devcontainer.json` ã‚’ã‚‚ã†å°‘ã—ã¡ã‚ƒã‚“ã¨â€œå‹â€ã«ã—ã¦ã€ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯èµ·å‹•ã‚’å®Œæˆã•ã›ã‚ˆã†ğŸ˜†ğŸ“¦

[1]: https://code.visualstudio.com/docs/devcontainers/containers "Developing inside a Container"
[2]: https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers "
        Dev Containers - Visual Studio Marketplace
    "
[3]: https://devcontainers.github.io/implementors/json_reference/ "Dev Container metadata reference"
[4]: https://nodejs.org/en/about/previous-releases?utm_source=chatgpt.com "Node.js Releases"
[5]: https://zenn.dev/enlog/articles/efadffc0bfc86b?utm_source=chatgpt.com "devcontainer.jsonã®æ›¸ãæ–¹ã¨ä¸»è¦ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£"
[6]: https://docs.docker.com/desktop/features/wsl/ "WSL | Docker Docs"
