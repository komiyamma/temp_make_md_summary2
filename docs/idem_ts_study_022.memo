DB更新とイベント送信の整合性を保つためOutbox表に同時記録する。送信はAt-least-onceとなるため、受信側の冪等性確保がセットで必要になる。