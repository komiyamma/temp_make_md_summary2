# ç¬¬13ç«  ã‚¤ãƒ™ãƒ³ãƒˆã‚’â€œé…ã‚‹â€æµã‚Œï¼ˆã‚¢ãƒ—ãƒªå±¤ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒï¼‰ğŸ“£ğŸšš

## ğŸ¯ ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«

* ã€Œä¿å­˜ã—ã¦ã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆã‚’é…ã‚‹ã€åŸºæœ¬ãƒ•ãƒ­ãƒ¼ã‚’ã€è¨€è‘‰ã§ã‚‚ã‚³ãƒ¼ãƒ‰ã§ã‚‚èª¬æ˜ã§ãã‚‹âœ¨
* ã‚¢ãƒ—ãƒªå±¤ï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼‰ãŒã‚„ã‚‹ã“ã¨ï¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã‚„ã‚‰ãªã„ã“ã¨ã‚’åˆ†ã‘ã¦è€ƒãˆã‚‰ã‚Œã‚‹ğŸ§ ğŸ§±
* â€œé †ç•ªãƒŸã‚¹â€ã§äº‹æ•…ã‚‹ãƒã‚¤ãƒ³ãƒˆã‚’å…ˆã«æ½°ã›ã‚‹ğŸ§¯ğŸ’¥

---

## 1) ã¾ãšçµè«–ï¼šã‚¤ãƒ™ãƒ³ãƒˆã¯ã€Œä¿å­˜ã®ã‚ã¨ã€ã«é…ã‚‹ ğŸ’¾â¡ï¸ğŸ“¤

ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€Œæ¥­å‹™ã§èµ·ããŸäº‹å®Ÿã€ãªã®ã§ã€åŸºæœ¬ã¯ã“ã†æµã—ã¾ã™ğŸ‘‡

1. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹é–‹å§‹ï¼ˆã‚¢ãƒ—ãƒªå±¤ï¼‰ğŸ
2. é›†ç´„ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰ã‚’æ“ä½œã—ã¦ã€ã‚¤ãƒ™ãƒ³ãƒˆãŒâ€œãŸã¾ã‚‹â€ğŸ«™
3. Repositoryã§ä¿å­˜ã™ã‚‹ğŸ’¾
4. ä¿å­˜ãŒæˆåŠŸã—ãŸã‚‰ã€ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–ã‚Šå‡ºã—ã¦é…ã‚‹ï¼ˆãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒï¼‰ğŸ“£
5. ãƒãƒ³ãƒ‰ãƒ©ãŒå‰¯ä½œç”¨ã‚’å®Ÿè¡Œï¼ˆé€šçŸ¥ãƒ»é€£æºãƒ»é›†è¨ˆãªã©ï¼‰ğŸ””ğŸŒ

ã“ã®ã€Œä¿å­˜â†’é…ã‚‹ã€ã®é †ç•ªãŒè¶…ã ã„ã˜ã§ã™âœ…

> 2026å¹´1æœˆæ™‚ç‚¹ã ã¨ã€Node.jsã¯ v24 ãŒActive LTSï¼ˆKryptonï¼‰ã¨ã—ã¦æ›´æ–°ã•ã‚Œç¶šã‘ã¦ã„ã¦ã€å®‰å®šé‹ç”¨ã®è»¸ã«ã—ã‚„ã™ã„ã§ã™ğŸ§ŠğŸŸ¢ ([Node.js][1])

---

## 2) â€œé…ã‚‹â€ã£ã¦ä½•ã‚’ã™ã‚‹ã®ï¼ŸğŸ“®âœ¨

ã“ã“ã§è¨€ã†ã€Œé…ã‚‹ï¼ˆãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒï¼‰ã€ã¯ã€ã–ã£ãã‚Šè¨€ã†ã¨ğŸ‘‡

* ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã® **type** ã‚’è¦‹ã¦
* ãã‚Œã«åå¿œã™ã‚‹ **ãƒãƒ³ãƒ‰ãƒ©** ã‚’å‘¼ã³å‡ºã™
* å¿…è¦ãªã‚‰è¤‡æ•°ãƒãƒ³ãƒ‰ãƒ©ã«é…ã‚‹ï¼ˆé€šçŸ¥ï¼‹ãƒã‚¤ãƒ³ãƒˆä»˜ä¸ã€ã¿ãŸã„ãªï¼‰ğŸ“©ğŸª™

ã¤ã¾ã‚Šã€ã‚¢ãƒ—ãƒªå±¤ã¯ã€Œã‚¤ãƒ™ãƒ³ãƒˆé…é”å“¡ã€ã¿ãŸã„ãªå½¹ã§ã™ğŸššğŸ’¨
ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ã€Œäº‹å®Ÿã‚’ç”Ÿã‚€ã€ã ã‘ã€‚é…é”ã‚„å¤–éƒ¨I/Oã¯ã—ã¾ã›ã‚“ğŸ™…â€â™€ï¸

---

## 3) ãªã‚“ã§ â€œä¿å­˜ã®ã‚ã¨â€ ãŒã„ã„ã®ï¼ŸğŸ¤”ğŸ’¥

é †ç•ªã‚’é–“é•ãˆã‚‹ã¨ã€ã‚ã‚ŠãŒã¡ãªäº‹æ•…ãŒèµ·ãã¾ã™â€¦ğŸ§¯

### âŒ äº‹æ•…Aï¼šé…ã£ãŸã®ã«ã€ä¿å­˜ãŒå¤±æ•—ã—ãŸ

* DBä¿å­˜ãŒå¤±æ•—ã—ãŸã®ã«
* å…ˆã«ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ãŒé£›ã‚“ã ğŸ“©ğŸ’¨
* ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€Œãˆã€è²·ãˆã¦ãªã„ã®ã«é€šçŸ¥æ¥ãŸã‚“ã ã‘ã©ï¼Ÿã€ğŸ˜‡

â†’ **ã€Œå­˜åœ¨ã—ãªã„æ³¨æ–‡ã®é€šçŸ¥ã€** ãŒå‡ºã¦ã—ã¾ã†åœ°ç„ã§ã™ğŸ•³ï¸

### âŒ äº‹æ•…Bï¼šä¿å­˜ã¯æˆåŠŸã—ãŸã®ã«ã€é…ã‚‹ã®ãŒå¤±æ•—ã—ãŸ

* DBã¯æ›´æ–°ã•ã‚ŒãŸâœ…
* ã§ã‚‚é€šçŸ¥ãŒè½ã¡ãŸâš ï¸
* ã€Œæ”¯æ‰•ã„æ¸ˆã¿ã€ãªã®ã«ã€Œé€šçŸ¥ãŒæ¥ãªã„ã€ã¿ãŸã„ãªä¸æ•´åˆğŸ˜µâ€ğŸ’«

â†’ ã“ã‚Œã¯å¾Œã®ç« ï¼ˆOutbox/ãƒªãƒˆãƒ©ã‚¤ï¼‰ã§ã—ã£ã‹ã‚Šå€’ã—ã¾ã™ğŸ§°
ã“ã®ç« ã§ã¯ã€Œã¾ãšåŸºæœ¬å½¢ã€ã‚’ä½œã‚Šã¾ã™ğŸŒ±

---

## 4) å®Ÿè£…ã®æœ€å°ã‚»ãƒƒãƒˆï¼ˆTypeScriptï¼‰ğŸ§©ğŸ”·

ã“ã“ã§ã¯ **â€œæœ€å°ã§å‹•ãâ€** å½¢ã«ã—ã¾ã™âœ‚ï¸âœ¨
ï¼ˆæœ¬æ ¼é‹ç”¨ã®å …ç‰¢åŒ–ã¯å¾ŒåŠç« ã¸ï¼‰

### 4-1) ã‚¤ãƒ™ãƒ³ãƒˆå‹ï¼ˆå…±é€šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰ğŸ§¾

```ts
// domain/events/DomainEvent.ts
export type DomainEvent<TType extends string, TPayload> = Readonly<{
  eventId: string;
  occurredAt: string;      // ISOæ–‡å­—åˆ—ã§OKï¼ˆä¾‹: new Date().toISOString()ï¼‰
  aggregateId: string;
  type: TType;
  payload: TPayload;
}>;
```

---

### 4-2) é›†ç´„ãŒã‚¤ãƒ™ãƒ³ãƒˆã‚’ãŸã‚ã‚‹ï¼ˆå‰ç« ã®å¾©ç¿’ï¼‰ğŸ«™

```ts
// domain/core/AggregateRoot.ts
import { DomainEvent } from "../events/DomainEvent";

export abstract class AggregateRoot {
  private readonly domainEvents: DomainEvent<string, unknown>[] = [];

  protected addDomainEvent(event: DomainEvent<string, unknown>) {
    this.domainEvents.push(event);
  }

  // âœ… æˆåŠŸå¾Œã«å‘¼ã¶æƒ³å®šï¼šå–ã‚Šå‡ºã—ãŸã‚‰ç©ºã«ã™ã‚‹ï¼ˆpullï¼‰
  pullDomainEvents(): DomainEvent<string, unknown>[] {
    const events = [...this.domainEvents];
    (this.domainEvents as DomainEvent<string, unknown>[]).length = 0;
    return events;
  }
}
```

---

### 4-3) ãƒãƒ³ãƒ‰ãƒ©ã®å‹ï¼ˆå—ã‘å–ã£ã¦å‡¦ç†ã™ã‚‹äººï¼‰ğŸ””

```ts
// application/events/DomainEventHandler.ts
import { DomainEvent } from "../../domain/events/DomainEvent";

export interface DomainEventHandler<E extends DomainEvent<string, unknown>> {
  // ã¾ãšã¯ã‚·ãƒ³ãƒ—ãƒ«ã« async å‰æã§OK âœ¨
  handle(event: E): Promise<void>;
}
```

---

### 4-4) ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãƒ£ï¼ˆé…é”ä¿‚ï¼‰ğŸ“£ğŸšš

ã“ã“ã¯ã€Œtype â†’ handlerä¸€è¦§ã€ã®å¯¾å¿œè¡¨ã‚’æŒã¡ã¾ã™ğŸ—ºï¸

```ts
// application/events/DomainEventDispatcher.ts
import { DomainEvent } from "../../domain/events/DomainEvent";
import { DomainEventHandler } from "./DomainEventHandler";

type EventType = string;

export class DomainEventDispatcher {
  private readonly handlers = new Map<EventType, DomainEventHandler<any>[]>();

  register<E extends DomainEvent<string, unknown>>(
    type: E["type"],
    handler: DomainEventHandler<E>
  ) {
    const list = this.handlers.get(type) ?? [];
    list.push(handler);
    this.handlers.set(type, list);
  }

  async dispatch(events: DomainEvent<string, unknown>[]) {
    for (const event of events) {
      const list = this.handlers.get(event.type) ?? [];

      // âœ… åˆå­¦è€…ã¯ã€Œã¾ãšé †ç•ªã« awaitã€ãŒãŠã™ã™ã‚ï¼ˆäº‹æ•…ã‚Šã«ãã„ï¼‰ğŸ§¯
      for (const handler of list) {
        await handler.handle(event);
      }
    }
  }
}
```

---

## 5) ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã® â€œä¿å­˜â†’é…ã‚‹â€ å®Ÿè£…ä¾‹ ğŸ§¾ğŸ’¾ğŸ“¤

ãƒŸãƒ‹ECæƒ³å®šã§ã€Œæ”¯æ‰•ã„å®Œäº†ã€ã‚’ä¾‹ã«ã—ã¾ã™ğŸ’³âœ¨

### 5-1) ä¾‹ï¼šOrderãŒã‚¤ãƒ™ãƒ³ãƒˆã‚’ç”Ÿã‚€ï¼ˆã–ã£ãã‚Šï¼‰ğŸ§¾

```ts
// domain/order/Order.ts
import { AggregateRoot } from "../core/AggregateRoot";
import { DomainEvent } from "../events/DomainEvent";

type OrderPaid = DomainEvent<"OrderPaid", { orderId: string; paidAmount: number }>;

export class Order extends AggregateRoot {
  private constructor(
    public readonly id: string,
    private status: "Created" | "Paid"
  ) {
    super();
  }

  static create(id: string) {
    return new Order(id, "Created");
  }

  pay(paidAmount: number) {
    if (this.status === "Paid") throw new Error("ã™ã§ã«æ”¯æ‰•ã„æ¸ˆã¿ã ã‚ˆâš ï¸");
    if (paidAmount <= 0) throw new Error("é‡‘é¡ãŒå¤‰ã ã‚ˆâš ï¸");

    this.status = "Paid";

    const event: OrderPaid = {
      eventId: crypto.randomUUID(),
      occurredAt: new Date().toISOString(),
      aggregateId: this.id,
      type: "OrderPaid",
      payload: { orderId: this.id, paidAmount },
    };

    this.addDomainEvent(event);
  }
}
```

---

### 5-2) Repositoryï¼ˆä¿å­˜ä¿‚ï¼‰ğŸ’¾

```ts
// application/order/OrderRepository.ts
import { Order } from "../../domain/order/Order";

export interface OrderRepository {
  save(order: Order): Promise<void>;
  findById(orderId: string): Promise<Order | null>;
}
```

---

### 5-3) æ”¯æ‰•ã„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆã“ã“ãŒæœ¬é¡Œï¼ï¼‰ğŸ›ï¸âœ¨

ã€Œä¿å­˜ã«æˆåŠŸã—ãŸã‚‰ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–ã‚Šå‡ºã—ã¦ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã€ã§ã™âœ…

```ts
// application/order/PayOrderUseCase.ts
import { OrderRepository } from "./OrderRepository";
import { DomainEventDispatcher } from "../events/DomainEventDispatcher";

export class PayOrderUseCase {
  constructor(
    private readonly repo: OrderRepository,
    private readonly dispatcher: DomainEventDispatcher
  ) {}

  async execute(input: { orderId: string; amount: number }) {
    const order = await this.repo.findById(input.orderId);
    if (!order) throw new Error("æ³¨æ–‡ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚ˆğŸ˜¢");

    // â‘  ãƒ‰ãƒ¡ã‚¤ãƒ³æ“ä½œï¼ˆã“ã“ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒæºœã¾ã‚‹ï¼‰ğŸ«™
    order.pay(input.amount);

    // â‘¡ ä¿å­˜ ğŸ’¾
    await this.repo.save(order);

    // â‘¢ ä¿å­˜æˆåŠŸå¾Œã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–ã‚Šå‡ºã™ ğŸ“¤
    const events = order.pullDomainEvents();

    // â‘£ é…ã‚‹ ğŸ“£
    await this.dispatcher.dispatch(events);
  }
}
```

ã“ã®é †ç•ªãŒã€ã¾ãšã¯â€œæœ€å°ã§æ­£ã—ã„â€åŸºæœ¬å½¢ã§ã™ğŸŒ±âœ…

---

## 6) å¤±æ•—æ™‚ã®æ‰±ã„ï¼ˆã“ã®ç« ã¯â€œæ¦‚è¦ã ã‘â€ï¼‰âš ï¸ğŸ§¯

ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã‚„ãƒãƒ³ãƒ‰ãƒ©ã¯ã€å¤–éƒ¨I/OãŒçµ¡ã¿ãŒã¡ã§å¤±æ•—ã—ã¾ã™ğŸŒğŸ’¥
ã“ã®ç« ã§ã¯ã€Œè€ƒãˆæ–¹ã®å‹ã€ã ã‘æŒã¡å¸°ã‚Šã¾ã—ã‚‡ã†ğŸ’âœ¨

### ãƒ‘ã‚¿ãƒ¼ãƒ³â‘ ï¼šãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’å¤±æ•—ã«ã™ã‚‹ï¼ˆåŒæœŸã£ã½ã„ï¼‰

* ãƒãƒ³ãƒ‰ãƒ©å¤±æ•— â†’ executeè‡ªä½“ã‚’ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹
* ç”»é¢ã«ã€Œå‡¦ç†å¤±æ•—ã€ã£ã¦è¿”ã™
* âœ… â€œä»Šã™ãçµæœãŒå¿…è¦â€ãªå‡¦ç†ã«ã¯åˆ†ã‹ã‚Šã‚„ã™ã„
* âŒ ãŸã ã—ã€Œä¿å­˜ã¯æˆåŠŸã—ã¦ã‚‹ã®ã«å¤±æ•—æ‰±ã„ã€ã«ãªã‚Šã‚„ã™ã„ï¼ˆå¾Œã§æ•´ãˆã‚‹å¿…è¦ã‚ã‚Šï¼‰

### ãƒ‘ã‚¿ãƒ¼ãƒ³â‘¡ï¼šãƒ­ã‚°ã—ã¦ç¶šè¡Œï¼ˆéåŒæœŸå‰æã®ç¬¬ä¸€æ­©ï¼‰

* ãƒãƒ³ãƒ‰ãƒ©å¤±æ•— â†’ ãƒ­ã‚°ã‚’æ®‹ã™ğŸ“
* ã„ã£ãŸã‚“å‡¦ç†ã¯æˆåŠŸã¨ã—ã¦è¿”ã™
* âœ… UXçš„ã«è»½ãã§ãã‚‹
* âŒ â€œå–ã‚Šã“ã¼ã—â€å¯¾ç­–ãŒå¿…è¦ï¼ˆOutbox/ãƒªãƒˆãƒ©ã‚¤ã§å›åã™ã‚‹ï¼‰

> Vitestã¯ 4.0 ãŒå…¬é–‹ã•ã‚Œã€ç§»è¡Œã‚¬ã‚¤ãƒ‰ã‚‚æ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ğŸ§ªâœ¨ï¼ˆãƒ†ã‚¹ãƒˆç’°å¢ƒã®æ•´å‚™ãŒã—ã‚„ã™ã„æµã‚Œï¼‰ ([Vitest][2])

---

## 7) ãƒãƒ³ãƒ‰ãƒ©ä¾‹ï¼šé€šçŸ¥ã¨ãƒã‚¤ãƒ³ãƒˆä»˜ä¸ã‚’åˆ†ã‘ã‚‹ğŸ“©ğŸª™

ã€Œ1ãƒãƒ³ãƒ‰ãƒ©ï¼1é–¢å¿ƒã€ã ã¨è‚²ã¦ã‚„ã™ã„ã§ã™ğŸŒ±

```ts
// application/handlers/SendPaidEmailHandler.ts
import { DomainEventHandler } from "../events/DomainEventHandler";
import { DomainEvent } from "../../domain/events/DomainEvent";

type OrderPaid = DomainEvent<"OrderPaid", { orderId: string; paidAmount: number }>;

export class SendPaidEmailHandler implements DomainEventHandler<OrderPaid> {
  async handle(event: OrderPaid) {
    // ã“ã“ã§ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆå¤–éƒ¨I/Oï¼‰ğŸ“©
    // ä»Šã¯ãƒ€ãƒŸãƒ¼ã§OK
    console.log(`ãƒ¡ãƒ¼ãƒ«é€ä¿¡: æ³¨æ–‡${event.payload.orderId} æ”¯æ‰•ã„å®Œäº†ğŸ’Œ`);
  }
}
```

```ts
// application/handlers/AddPointHandler.ts
import { DomainEventHandler } from "../events/DomainEventHandler";
import { DomainEvent } from "../../domain/events/DomainEvent";

type OrderPaid = DomainEvent<"OrderPaid", { orderId: string; paidAmount: number }>;

export class AddPointHandler implements DomainEventHandler<OrderPaid> {
  async handle(event: OrderPaid) {
    console.log(`ãƒã‚¤ãƒ³ãƒˆä»˜ä¸: ${event.payload.paidAmount}å††ã¶ã‚“ğŸª™`);
  }
}
```

ç™»éŒ²ã—ã¦é…ã‚Šã¾ã™ğŸ‘‡

```ts
// application/boot/registerHandlers.ts
import { DomainEventDispatcher } from "../events/DomainEventDispatcher";
import { SendPaidEmailHandler } from "../handlers/SendPaidEmailHandler";
import { AddPointHandler } from "../handlers/AddPointHandler";

export function registerHandlers(dispatcher: DomainEventDispatcher) {
  dispatcher.register("OrderPaid", new SendPaidEmailHandler());
  dispatcher.register("OrderPaid", new AddPointHandler());
}
```

---

## 8) ãƒ†ã‚¹ãƒˆã—ã¦ã€Œä¿å­˜â†’é…ã‚‹é †ã€ã‚’å®ˆã‚Œã¦ã‚‹ã‹ç¢ºèªğŸ§ªâœ…

ã“ã“ã€ã‚ã¡ã‚ƒå¤§äº‹ã§ã™ï¼
é †ç•ªãŒã‚ºãƒ¬ã‚‹ã¨äº‹æ•…ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã§ç¸›ã‚‹ã¨å®‰å¿ƒğŸ§·âœ¨

```ts
// application/order/PayOrderUseCase.test.ts
import { describe, it, expect, vi } from "vitest";
import { PayOrderUseCase } from "./PayOrderUseCase";
import { DomainEventDispatcher } from "../events/DomainEventDispatcher";
import { Order } from "../../domain/order/Order";

describe("PayOrderUseCase", () => {
  it("ä¿å­˜ãŒæˆåŠŸã—ãŸå¾Œã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã™ã‚‹âœ…", async () => {
    const order = Order.create("o-1");

    const repo = {
      findById: vi.fn(async () => order),
      save: vi.fn(async () => {}),
    };

    const dispatcher = new DomainEventDispatcher();
    const dispatchSpy = vi.spyOn(dispatcher, "dispatch");

    const useCase = new PayOrderUseCase(repo as any, dispatcher);

    await useCase.execute({ orderId: "o-1", amount: 1000 });

    expect(repo.save).toHaveBeenCalledTimes(1);
    expect(dispatchSpy).toHaveBeenCalledTimes(1);

    // â€œé †ç•ªâ€ãŒæ°—ã«ãªã‚‹ãªã‚‰ã€å‘¼ã³å‡ºã—é †ã‚‚ãƒã‚§ãƒƒã‚¯ã§ãã‚‹ã‚ˆâœ¨
    const saveCall = repo.save.mock.invocationCallOrder[0];
    const dispatchCall = dispatchSpy.mock.invocationCallOrder[0];
    expect(saveCall).toBeLessThan(dispatchCall);
  });
});
```

---

## 9) ğŸ“ æ¼”ç¿’ï¼ˆæ‰‹ã‚’å‹•ã‹ã™ã‚„ã¤ï¼‰â‘ â‘¡â‘¢

### æ¼”ç¿’1ï¼šå‡¦ç†é †ã‚’ç•ªå·ã§æ›¸ãâ‘ â‘¡â‘¢ğŸ“

æ¬¡ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®é †ç•ªã‚’ã€ç•ªå·ä»˜ãã§æ›¸ã„ã¦ã¿ã¦ãã ã•ã„ğŸ‘‡

* æ³¨æ–‡å–å¾—
* æ”¯æ‰•ã„å‡¦ç†ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³æ“ä½œï¼‰
* ä¿å­˜
* ã‚¤ãƒ™ãƒ³ãƒˆå–ã‚Šå‡ºã—
* ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ

### æ¼”ç¿’2ï¼šè½ã¨ã—ç©´æ¢ã—ğŸ§¯

æ¬¡ã® â€œãƒ€ãƒ¡ãªé †ç•ªâ€ ã®ã©ã“ãŒãƒã‚ºã„ã‹ã€ç†ç”±ã‚’1è¡Œã§ï¼ğŸ‘‡

* ã‚¤ãƒ™ãƒ³ãƒˆå–ã‚Šå‡ºã— â†’ ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ â†’ ä¿å­˜

### æ¼”ç¿’3ï¼šãƒãƒ³ãƒ‰ãƒ©ã‚’1ã¤è¿½åŠ ğŸ

`OrderPaid` ã‚’å—ã‘ã¦ã€Œå£²ä¸Šé›†è¨ˆãƒ†ãƒ¼ãƒ–ãƒ«æ›´æ–°ï¼ˆãƒ€ãƒŸãƒ¼ã§console.logï¼‰ã€ã™ã‚‹ãƒãƒ³ãƒ‰ãƒ©ã‚’è¿½åŠ ã—ã¦ã€ç™»éŒ²ã—ã¦ã¿ã‚ˆã†ğŸ“Šâœ¨

---

## 10) ğŸ¤– AIæ´»ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆãã®ã¾ã¾ã‚³ãƒ”ãƒšOKï¼‰ğŸ’¬âœ¨

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆAï¼šå‡¦ç†é †ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ğŸ§¯

```text
æ¬¡ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®å‡¦ç†é †ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã€äº‹æ•…ã‚Šãã†ãªç‚¹ã‚’3ã¤æŒ‡æ‘˜ã—ã¦ã€‚
ç‰¹ã«ã€Œä¿å­˜ã€ã¨ã€Œãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã€ã®é †ç•ªãƒ»ä¾‹å¤–æ™‚ã®æŒ™å‹•ã«æ³¨ç›®ã—ã¦ã€‚

ï¼ˆã“ã“ã« execute ã®ã‚³ãƒ¼ãƒ‰è²¼ã‚‹ï¼‰
```

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆBï¼šã‚¤ãƒ™ãƒ³ãƒˆpayloadã®è©°ã‚è¾¼ã¿ãƒã‚§ãƒƒã‚¯ğŸ’

```text
ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆpayloadã¯æƒ…å ±ã‚’è©°ã‚è¾¼ã¿ã™ãï¼Ÿ
ã€Œå…¥ã‚Œã‚‹ã¹ãæœ€å°é™ã€ã¨ã€Œå‚ç…§ã§å–ã‚Œã‚‹æƒ…å ±ã€ã‚’åˆ†ã‘ã¦ææ¡ˆã—ã¦ã€‚

ã‚¤ãƒ™ãƒ³ãƒˆ: OrderPaid
payload: ï¼ˆã“ã“ã«è²¼ã‚‹ï¼‰
```

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆCï¼šãƒãƒ³ãƒ‰ãƒ©åˆ†å‰²æ¡ˆâœ‚ï¸

```text
OrderPaid ã‚’ãã£ã‹ã‘ã«ã‚„ã‚ŠãŸã„å‰¯ä½œç”¨ãŒã„ãã¤ã‹ã‚ã‚‹ã€‚
ã€Œ1ãƒãƒ³ãƒ‰ãƒ©ï¼1é–¢å¿ƒã€ã«ãªã‚‹ã‚ˆã†ã«åˆ†å‰²æ¡ˆï¼ˆåå‰ï¼‹è²¬å‹™ï¼‰ã‚’å‡ºã—ã¦ã€‚
å‰¯ä½œç”¨å€™è£œ: ãƒ¡ãƒ¼ãƒ«é€šçŸ¥, ãƒã‚¤ãƒ³ãƒˆä»˜ä¸, å£²ä¸Šé›†è¨ˆ, å¤–éƒ¨CRMé€£æº
```

---

## 11) âœ… ã‚ã‚ŠãŒã¡ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆã“ã“è¸ã‚€ã¨çˆ†ç™ºã—ãŒã¡ï¼‰ğŸ’¥

* [ ] ä¿å­˜å‰ã«ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã—ã¦ãªã„ï¼Ÿï¼ˆé€šçŸ¥ã ã‘å…ˆã«é£›ã¶ï¼‰ğŸ“©ğŸ’¨
* [ ] ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ä¸­ã§å¤–éƒ¨I/Oã—ã¦ãªã„ï¼Ÿï¼ˆDB/HTTP/ãƒ¡ãƒ¼ãƒ«ãªã©ï¼‰ğŸ™…â€â™€ï¸
* [ ] ãƒãƒ³ãƒ‰ãƒ©ãŒâ€œå…¨éƒ¨å…¥ã‚Šâ€ã«ãªã£ã¦ãªã„ï¼Ÿï¼ˆé–¢å¿ƒãŒæ··ã–ã‚‹ï¼‰ğŸ²
* [ ] ä¾‹å¤–ãŒå‡ºãŸã¨ãã®æ–¹é‡ãŒæœªå®šã®ã¾ã¾ï¼Ÿï¼ˆå¾Œã§äº‹æ•…ã‚‹ï¼‰âš ï¸
* [ ] ãƒ†ã‚¹ãƒˆã§ã€Œä¿å­˜â†’é…ã‚‹ã€é †ç•ªã‚’ç¸›ã‚Œã¦ã‚‹ï¼ŸğŸ§ªğŸ§·

---

## 12) ã“ã®ç« ã§ã§ããŸã“ã¨ğŸ‰

* ã‚¢ãƒ—ãƒªå±¤ãŒã€Œä¿å­˜â†’ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã€ã‚’æ‹…å½“ã™ã‚‹ç†ç”±ãŒåˆ†ã‹ã£ãŸğŸ’¾â¡ï¸ğŸ“£
* æœ€å°ã®ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãƒ£ã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å®Ÿè£…ãŒæ›¸ã‘ãŸâœï¸
* é †ç•ªäº‹æ•…ã‚’ãƒ†ã‚¹ãƒˆã§é˜²ãå‹ãŒæ‰‹ã«å…¥ã£ãŸğŸ§ªâœ…

æ¬¡ã®ç« ã§ã¯ã€ãƒãƒ³ãƒ‰ãƒ©å´ã®ä½œã‚Šæ–¹ï¼ˆå‰¯ä½œç”¨ã‚’å¤–ã¸ï¼‰ã‚’ã‚‚ã£ã¨ã¡ã‚ƒã‚“ã¨è‚²ã¦ã¾ã™ğŸ””ğŸ§©

[1]: https://nodejs.org/en/about/previous-releases?utm_source=chatgpt.com "Node.js Releases"
[2]: https://vitest.dev/blog/vitest-4?utm_source=chatgpt.com "Vitest 4.0 is out!"
