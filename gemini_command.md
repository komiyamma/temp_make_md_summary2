# Markdownファイル要約・メモ化タスク要件定義

## 0. 絶対規律
途中で作業を中断したり、作業を継続するかといった確認行為を決して挟まないこと。  
以下を最後まで完遂し、完遂したらpublish する、そこまでが一連の作業である。
途中で継続するか確認を挟んでも返答が返ってくる可能性が薄く作業が無駄になる可能性が高い。
一度作業を始めたら、「最後まで完遂し、途中休憩や確認を絶対に挟まない」ことが極めて重要である。

## 1. 概要
このフォルダのサブディレクトリ内の全*.mdファイルを対象に、その内容を要約し、対応するメモファイルを生成する。
ただし、対象の.mdフィアイルに対応する.memoファイルが既に存在する場合、その.mdファイルは処理対象から除外する。
又「新規のスクリプトを作成(*.pyや*.js)」などは**決して作成しない**こと。

## 2. 前提条件
- ファイル一覧が更新されているため、最新のディレクトリ構成を確認すること
- 対象はサブディレクトリ内の*.mdファイル全て（ただし、対応する.memoファイルが既に存在する.mdファイルは処理対象から除外する）
  - この作業には、**filter_md_files.py を必ず利用** してください。そうすると。
- なお.md内に多数のURLリンクがある場合、そのURL先のコンテンツやURLの存在は無視してください。

## 3. 機能要件

### 3.1 ファイル検出
- サブディレクトリのファイル一覧を取得
- 拡張子が.mdの全ファイルを特定
- **重要:** .mdファイルに対応する.memoファイルが既に存在する場合、その.mdファイルは**処理対象から完全に除外する**。このチェックは、.mdファイルの内容を読み込む前に、ファイルシステムレベルで実施すること。
  - この作業には、**filter_md_files.py を必ず利用** してください。そうすると、filtered_md_files.txt に処理対象の.mdファイル一覧が出力される。この一覧だけが対象となる。他のファイルは無視すること。

### 3.2 コンテンツ抽出・要約
- 各MarkDownファイルの全内容を読み込み（部分読み込み禁止）。ただし、対応する.memoファイルが既に存在する場合は、この読み込みはスキップされる。
- 文章内容を抽出
- 要約を作成。ただし「○○年〇〇月の○○のニュース」みたいに「そのページ全体の存在自体の要約」に相当するものは「わかりきってること」なので不要です。
（要約する際に、あなたは新規にスクリプトを作成したりしないこと。要約部分自体はあなたが自身の能力で行うことが品質面でも極めて重要です）

### 3.3 出力ファイル生成
- 各Markdownファイルに対応する*.memoファイルを作成(元のMarkdownファイルと同じフォルダに作る)
- ファイル名：[元ファイル名].memo（拡張子置換）

### 3.4 出力ファイル検証
- 生成された.memoファイルの長さを `check_memo_length.py` を用いて検証する。check_memo_length.pyファイル自体を編集変更しないこと。
- 検証結果が合格（65文字以上80文字未満）であれば、次のファイル処理へ進む。
- 検証結果が不合格（60文字未満、80文字以上）であれば、その.memoファイルは不適切と判断し、### 3.3 から再試行する。

## 4. 品質要件

### 4.1 文字数制約
- **必須範囲**: 65文字以上80文字未満
- **推奨範囲**: 65文字以上75文字以下
- **絶対禁止**: 60文字未満、80文字以上
- **１文字とは 「アルファベットや英数字や記号などASCIIと言われる範囲の文字は0.5文字」としてカウント、「それ以外の文字(全角文字も含め）」は1文字としてカウント  
  (このカウントがあなたにとって自動計算が難しければカウント用のスクリプトは作成してもよい)
- `character_counter.py` は、この文字数カウントロジックを実装した汎用ユーティリティであり、特定のテキストの文字数を手動で確認したい場合や、デバッグ目的で使用することができる。これは、ファイル全体の合否を判定する `check_memo_length.py` とは異なる役割を持つ。

### 4.2 処理方式
- **本タスクを実行するAIが**各Markdownファイルの内容を深く理解し、人間が作成するような自然な要約を行うこと。
- 機械的な文字切り取りや、単なるキーワードの羅列ではない、文脈を考慮した要約を作成すること。

### 4.3 品質保証
- 要約内容の妥当性チェック必須
- 不適切な要約の場合は再作成
- 全Markdownファイルに対応するメモファイル完成まで継続

## 5. 完了条件
全ての*.mdファイルに対応する*.memoファイルが揃っていること

## 6 .memoをプルリクしたブランチに含めること

publish する前に、作成した.memoファイルが必ずプルリクしたブランチに含まれているのか確認すること
.memoの作成を依頼しているのだから、.memoが含まれていないならそもそもプルリクする意味自体がありません。
